<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org// Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.kh.earthball.fo.point.mapper.PointMapper">

<!-- 포인트데이터 추가 -->
<insert id="insertPoint" parameterType="com.kh.earthball.fo.point.vo.Point">
	INSERT INTO POINT(POINT_NO
								, POINT_CONTENT
								, POINT_NUM
								, STATUS
								, POINT_DATE
								, MEMBER_ID)
					 VALUES(SEQ_POINT.NEXTVAL
								, #{pointContent}
								, #{pointNum}
								, #{status}
								, SYSDATE
								, #{memberId}
								)
</insert>

<!-- 회원 총 포인트 추가 -->
<update id="plusMemberPoint" parameterType="com.kh.earthball.fo.point.vo.Point">
	UPDATE MEMBER
		  SET TOTAL_POINT = TOTAL_POINT + #{pointNum}
	 WHERE MEMBER_ID = #{memberId}
</update>

<!-- 회원 총 포인트 삭감 -->
<update id="minusMemberPoint" parameterType="com.kh.earthball.fo.point.vo.Point">
	UPDATE MEMBER
		  SET TOTAL_POINT = TOTAL_POINT - #{pointNum}
	 WHERE MEMBER_ID = #{memberId}
</update>


</mapper>