<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardMapper">

<resultMap id="boardResultSet" type="board">
		<result column="BOARD_NO" property="boardNo" />
		<result column="BOARD_TITLE" property="boardTitle" />
		<result column="BOARD_DATE" property="boardDate" />
		<result column="BOARD_CONTENT" property="boardContent" />
		 <result column="MEMBER_ID" property="memberId" />
	</resultMap>

  <!-- 게시글 총 갯수 구하는 쿼리문 -->
  <select id="selectListCount" resultType="_int">
    SELECT COUNT(*)
    FROM QNA
    WHERE STATUS = 'Y'
  </select>

  <!-- 게시글 리스트를 구해주는 쿼리문 -->
  <select id="selectList" resultType="board" resultMap="boardResultSet">
  SELECT QNA.BOARD_NO
     , QNA.BOARD_TITLE
     , TO_CHAR(QNA.BOARD_DATE, 'YYYY-MM-DD') AS "BOARD_DATE"
     , MEMBER.MEMBER_ID
	FROM QNA
	INNER JOIN MEMBER ON QNA.MEMBER_ID = MEMBER.MEMBER_ID
	WHERE QNA.STATUS = 'Y'
	ORDER BY QNA.BOARD_NO DESC

  </select>


</mapper>

